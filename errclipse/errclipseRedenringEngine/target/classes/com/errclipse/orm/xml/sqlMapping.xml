<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="sqlMapping">
    <insert id="insertLang" parameterType="com.errclipse.orm.bin.LangBin" keyProperty="lang_id"  useGeneratedKeys="true" >
        INSERT IGNORE INTO language (language_desc,lang_id,error_count ) values (#{language_desc}, #{lang_id}, #{error_count} )
    </insert>
    <insert id="insertLib" parameterType="com.errclipse.orm.bin.LibraryBin" keyProperty="lib_id"  useGeneratedKeys="true" >
        INSERT IGNORE INTO library (lib_desc, level_key, lib_id, error_count ) values (#{lib_desc}, #{level_key}, #{lib_id}, #{error_count} )
    </insert>
    <insert id="insertMethod" parameterType="com.errclipse.orm.bin.MethodBin" keyProperty="method_id"  useGeneratedKeys="true" >
        INSERT IGNORE INTO method (method_desc, level_key, method_id, error_count ) values (#{method_desc}, #{level_key}, #{method_id}, #{error_count} )
    </insert>
    <insert id="insertError" parameterType="com.errclipse.orm.bin.ErrorBin" keyProperty="error_id"  useGeneratedKeys="true" >
        INSERT IGNORE INTO method (error_desc, level_key, error_id, error_count ) values (#{error_desc}, #{level_key}, #{error_id}, #{error_count} )
    </insert>
    <insert id="insertSolution" parameterType="com.errclipse.orm.bin.SolutionBin" keyProperty="solution_id"  useGeneratedKeys="true" >
    	INSERT IGNORE INTO solution (level_key, solution_id, solution_note, global_score,local_score) values (#{level_key}, #{solution_id}, #{solution_note}, #{global_score},#{local_score})
    </insert>    
    <select id="selectLang" parameterType="String" resultType="int">
    	SELECT (lang_id) FROM language WHERE language_desc = #{language_desc}
    </select>
    <select id="selectSolution" parameterType="String" resultType="java.util.List">
		SELECT  (solution_id, solution_note) FROM solution WHERE level_key = #{level_key}
	</select>
</mapper>